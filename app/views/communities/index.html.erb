<!-- Authored by: Mitchell Berger, Talha Koc, and Noah Over for COMPSCI 408 at Duke University for Tori Patterson -->


<div id='BODY_CONTENT'>
<p id="notice"><%= notice %></p>

<h1>Communities</h1>
<div class="panel panel-default">
<div class="panel-body">
<%= search_form_for @q do |f| %>
  
  <h3>Search Database</h3>
  
  <%= f.search_field :community_name_or_zip_code_cont %>

  <%= f.submit %>
<% end %>

<%= search_form_for @q do |f| %>

  <h3>Search By Column</h3>

  <%= f.label :community_name_cont %>
  <%= f.search_field :community_name_cont %>
  
  <%= f.label :zip_code_cont %>
  <%= f.search_field :zip_code_cont %>

  <%= f.submit %>
<% end %>
</div>
</div>
<div class="panel panel-default">
  <div class="panel-body" id='table-panel-body'>
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th><%= sort_link(@q, :community_name) %></th>
            <th><%= sort_link(@q, :zip_code) %></th>
            <th colspan="3"></th>
          </tr>
        </thead>
      
        <tbody>
          <% @communities.each do |community| %>
            <tr>
              <td><%= community.community_name %></td>
              <td><%= community.zip_code %></td>
              <td><%= link_to 'Show', community %></td>
              <td><%= link_to 'Edit', edit_community_path(community) %></td>
              <td><%= link_to 'Destroy', community, method: :delete, data: { confirm: 'Are you sure you want to delete this community and all related information?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>



<br>

<%= link_to 'New Community', new_community_path, :class => 'btn btn-primary' %>
<br>
<%= link_to 'Back', home_path, :class => 'btn btn-secondary' %>

</div>